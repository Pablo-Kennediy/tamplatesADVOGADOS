<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guia de Direito Previdenci√°rio e INSS | C√°lculo e Regras da Reforma (EC 103/2019)</title>
    
    <meta name="description" content="Plataforma especializada e atualizada sobre o Direito Previdenci√°rio brasileiro. Simule seu tempo de contribui√ß√£o, entenda as Regras de Transi√ß√£o e calcule a elegibilidade de aposentadorias e benef√≠cios do RGPS (INSS).">
    
    <link rel="stylesheet" href="styles/main.css"> 
    
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
</head>
<body>

    <header>
        <h1>Guia de Direito Previdenci√°rio e INSS</h1>
        <p>Regras e C√°lculo de Aposentadoria ap√≥s a **Emenda Constitucional n.¬∫ 103/2019**</p>
        <nav>
            <ul>
                <li><a href="#simulador">Simulador</a></li>
                <li><a href="#regras">Regras de Transi√ß√£o</a></li>
                <li><a href="#beneficios">Tipos de Benef√≠cios</a></li>
                <li><a href="#autoridade">Fundamenta√ß√£o Legal</a></li>
            </ul>
        </nav>
    </header>

    <main id="conteudo-principal">
        
        <section id="alerta-legal">
            <h2>üö® Aviso Legal e Integridade</h2>
            <div class="disclaimer">
                ‚ö†Ô∏è **O conte√∫do √© informativo e n√£o substitui o c√°lculo e o parecer de um advogado especialista em Direito Previdenci√°rio ou contador.**
                <p>Nossas ferramentas de c√°lculo utilizam o texto atualizado da **Lei n.¬∫ 8.213/91** e da **EC n.¬∫ 103/2019**, mas os resultados s√£o simula√ß√µes.</p>
            </div>
        </section>

     <section id="simulador">
    <h2>üõ†Ô∏è Calculadora Previdenci√°ria e Elegibilidade</h2>
    <div class="ferramenta-calculo">
        <form id="form-elegibilidade" action="calcular.php" method="POST">
            <div>
                <label for="data-nascimento">Data de Nascimento:</label>
                <input type="date" id="data-nascimento" name="dataNascimento" required>
            </div>
            
            <div>
                <label for="tempo-contribuicao-anos">Tempo de Contribui√ß√£o (Anos):</label>
                <input type="number" id="tempo-contribuicao-anos" name="tempoAnos" placeholder="Ex: 25" min="0" required>
            </div>
            
            <div>
                <label for="tempo-contribuicao-meses">Tempo de Contribui√ß√£o (Meses):</label>
                <input type="number" id="tempo-contribuicao-meses" name="tempoMeses" placeholder="Ex: 6" min="0" max="11" required>
            </div>
            
            <button type="submit" id="btn-calcular">Calcular Elegibilidade</button>
        </form>
        
        <div id="resultado-calculo" style="margin-top: 20px;">
            </div>
    </div>
    <?php

// 1. Verifica se o formul√°rio foi enviado (usando o m√©todo POST)
if ($_SERVER["REQUEST_METHOD"] == "POST") {
    
    // 2. Coleta os dados do formul√°rio
    $dataNascimentoStr = $_POST['dataNascimento'];
    $tempoAnos         = intval($_POST['tempoAnos']);
    $tempoMeses        = intval($_POST['tempoMeses']);
    
    // 3. Converte a data de nascimento para um objeto DateTime (facilita o c√°lculo de idade)
    try {
        $dataNascimento = new DateTime($dataNascimentoStr);
        $hoje = new DateTime();

        // Calcula a idade atual em anos
        $idade = $hoje->diff($dataNascimento)->y;
        
        // Converte o tempo total de contribui√ß√£o para meses (para c√°lculo unificado)
        $tempoContribuicaoTotalMeses = ($tempoAnos * 12) + $tempoMeses;

        // =================================================================
        // 4. A L√ìGICA DE C√ÅLCULO PREVIDENCI√ÅRIO VIR√Å AQUI
        // Exemplo: Verificar elegibilidade para a regra da Idade M√≠nima Progressiva
        // =================================================================
        
        $resultado = "
            <h3>Resultado da Simula√ß√£o</h3>
            <p><strong>Idade Atual:</strong> {$idade} anos</p>
            <p><strong>Tempo Total de Contribui√ß√£o:</strong> {$tempoAnos} anos e {$tempoMeses} meses ({$tempoContribuicaoTotalMeses} meses)</p>
            <hr>
            <h4>Verifica√ß√£o das Regras de Transi√ß√£o (EC 103/2019):</h4>
            <p>O c√°lculo detalhado para cada regra (Pontos, Ped√°gio 50%, Ped√°gio 100%, Idade M√≠nima Progressiva) seria implementado aqui.</p>
        ";

    } catch (Exception $e) {
        $resultado = "<p style='color: red;'>Erro ao processar a data: " . $e->getMessage() . "</p>";
    }
    
    // 5. Exibe o resultado. 
    // Em um cen√°rio real, voc√™ provavelmente redirecionaria o usu√°rio
    // ou usaria AJAX/Fetch para exibir o resultado sem recarregar a p√°gina.
    echo $resultado; 

} else {
    // Se a p√°gina for acessada diretamente
    echo "<p>Acesso negado. Por favor, utilize o formul√°rio na p√°gina inicial.</p>";
}

?>
</section>



        <section id="regras">
            <h2>üìã Regras de Transi√ß√£o da Reforma (EC 103/2019)</h2>
            <p>O site √© focado na orienta√ß√£o precisa sobre a elegibilidade nas regras de transi√ß√£o. As principais s√£o:</p>
            <ul>
                <li>**Ped√°gio 50%:** Para quem estava pr√≥ximo de se aposentar em 13/11/2019.</li>
                <li>**Ped√°gio 100%:** Exig√™ncia de idade m√≠nima e ped√°gio.</li>
                <li>**Pontos:** Soma da idade com o tempo de contribui√ß√£o.</li>
                <li>**Idade M√≠nima Progressiva:** Aumenta a idade m√≠nima a cada ano.</li>
            </ul>
        </section>
        
        <section id="beneficios">
            <h2>Tipos de Benef√≠cios e Segurados</h2>
            <h3>Aposentadorias (RGPS)</h3>
            <p>Idade Programada, Tempo de Contribui√ß√£o (Transi√ß√£o) e Aposentadoria Especial.</p>
            <h3>Outros Benef√≠cios</h3>
            <p>Pens√£o por Morte, Aux√≠lio-Doen√ßa (Aux√≠lio por Incapacidade Tempor√°ria), LOAS/BPC.</p>
        </section>

    </main>

    <footer>
        <p>&copy; 2024 Guia de Direito Previdenci√°rio. Projeto desenvolvido por **[Sua Empresa]**. Licen√ßa [MIT].</p>
        <p>Contato: [Seu email/link]</p>
    </footer>

    <script src="main-app.js"></script> 
</body>
</html>